{"openapi": "3.0.2", "info": {"title": "ElRoi Vision - Object Detection API", "description": "\n    API de detec\u00e7\u00e3o de objetos usando YOLOv8.\n    \n    ## Funcionalidades\n    \n    * **Detec\u00e7\u00e3o para JSON**: Recebe uma imagem e retorna os objetos detectados em formato JSON\n    * **Detec\u00e7\u00e3o para Imagem**: Recebe uma imagem e retorna a imagem anotada com bounding boxes\n    * **Healthcheck**: Verifica o status do servi\u00e7o\n    \n    ## Modelos\n    \n    O servi\u00e7o utiliza modelos YOLOv8 pr\u00e9-treinados para detec\u00e7\u00e3o de objetos em tempo real.\n    ", "contact": {"name": "ElRoi Vision"}, "license": {"name": "MIT"}, "version": "1.0.0"}, "paths": {"/healthcheck": {"get": {"tags": ["Monitoramento"], "summary": "Verificar status do servi\u00e7o", "description": "Endpoint de healthcheck para verificar se o servi\u00e7o est\u00e1 funcionando corretamente.\n    \n    Retorna um status 200 OK se o servi\u00e7o estiver operacional.\n    Este endpoint \u00e9 \u00fatil para:\n    - Monitoramento de sa\u00fade do servi\u00e7o\n    - Load balancers e orquestradores de containers\n    - Verifica\u00e7\u00e3o de disponibilidade antes de fazer requisi\u00e7\u00f5es", "operationId": "perform_healthcheck_healthcheck_get", "responses": {"200": {"description": "Servi\u00e7o est\u00e1 funcionando corretamente", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HealthCheckResponse"}, "example": {"healthcheck": "Everything OK!"}}}}}}}, "/img_object_detection_to_json": {"post": {"tags": ["Detec\u00e7\u00e3o"], "summary": "Detec\u00e7\u00e3o de objetos retornando JSON", "description": "Realiza detec\u00e7\u00e3o de objetos em uma imagem usando YOLOv8 e retorna os resultados em formato JSON.\n    \n    ## Par\u00e2metros\n    \n    - **file**: Arquivo de imagem (suporta formatos: JPEG, PNG, WEBP, etc.)\n    \n    ## Resposta\n    \n    Retorna um JSON contendo:\n    - `detect_objects`: Lista de objetos detectados com nome e confian\u00e7a\n    - `detect_objects_names`: String com nomes dos objetos separados por v\u00edrgula\n    \n    ## Exemplo de Uso\n    \n    ```bash\n    curl -X POST \"http://localhost:8001/img_object_detection_to_json\" \\\n         -H \"accept: application/json\" \\\n         -H \"Content-Type: multipart/form-data\" \\\n         -F \"file=@test_image.jpg\"\n    ```", "operationId": "img_object_detection_to_json_img_object_detection_to_json_post", "requestBody": {"content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_img_object_detection_to_json_img_object_detection_to_json_post"}}}, "required": true}, "responses": {"200": {"description": "Detec\u00e7\u00e3o realizada com sucesso", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetectionResponse"}, "example": {"detect_objects": [{"name": "person", "confidence": 0.95}, {"name": "car", "confidence": 0.87}, {"name": "dog", "confidence": 0.72}], "detect_objects_names": "person, car, dog"}}}}, "400": {"description": "Erro ao processar a imagem", "content": {"application/json": {"example": {"detail": "Invalid image format"}}}}, "422": {"description": "Erro de valida\u00e7\u00e3o - arquivo n\u00e3o fornecido", "content": {"application/json": {"example": {"detail": [{"loc": ["body", "file"], "msg": "field required", "type": "value_error.missing"}]}}}}}}}, "/img_object_detection_to_img": {"post": {"tags": ["Detec\u00e7\u00e3o"], "summary": "Detec\u00e7\u00e3o de objetos retornando imagem anotada", "description": "Realiza detec\u00e7\u00e3o de objetos em uma imagem usando YOLOv8 e retorna a imagem original \n    com bounding boxes e labels desenhados.\n    \n    ## Par\u00e2metros\n    \n    - **file**: Arquivo de imagem (suporta formatos: JPEG, PNG, WEBP, etc.)\n    \n    ## Resposta\n    \n    Retorna a imagem processada em formato JPEG com:\n    - Bounding boxes desenhados ao redor dos objetos detectados\n    - Labels com nome da classe e porcentagem de confian\u00e7a\n    \n    ## Exemplo de Uso\n    \n    ```bash\n    curl -X POST \"http://localhost:8001/img_object_detection_to_img\" \\\n         -H \"accept: image/jpeg\" \\\n         -H \"Content-Type: multipart/form-data\" \\\n         -F \"file=@test_image.jpg\" \\\n         --output result.jpg\n    ```\n    \n    Ou usando Python:\n    ```python\n    import requests\n    \n    with open('test_image.jpg', 'rb') as f:\n        response = requests.post(\n            'http://localhost:8001/img_object_detection_to_img',\n            files={'file': f}\n        )\n    \n    with open('result.jpg', 'wb') as f:\n        f.write(response.content)\n    ```", "operationId": "img_object_detection_to_img_img_object_detection_to_img_post", "requestBody": {"content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_img_object_detection_to_img_img_object_detection_to_img_post"}}}, "required": true}, "responses": {"200": {"description": "Imagem processada com sucesso", "content": {"application/json": {"schema": {}}, "image/jpeg": {"example": "Imagem JPEG com bounding boxes desenhados"}}}, "400": {"description": "Erro ao processar a imagem", "content": {"application/json": {"example": {"detail": "Invalid image format"}}}}, "422": {"description": "Erro de valida\u00e7\u00e3o - arquivo n\u00e3o fornecido", "content": {"application/json": {"example": {"detail": [{"loc": ["body", "file"], "msg": "field required", "type": "value_error.missing"}]}}}}}}}}, "components": {"schemas": {"Body_img_object_detection_to_img_img_object_detection_to_img_post": {"title": "Body_img_object_detection_to_img_img_object_detection_to_img_post", "required": ["file"], "type": "object", "properties": {"file": {"title": "File", "type": "string", "description": "Arquivo de imagem para detec\u00e7\u00e3o de objetos", "format": "binary"}}}, "Body_img_object_detection_to_json_img_object_detection_to_json_post": {"title": "Body_img_object_detection_to_json_img_object_detection_to_json_post", "required": ["file"], "type": "object", "properties": {"file": {"title": "File", "type": "string", "description": "Arquivo de imagem para detec\u00e7\u00e3o de objetos", "format": "binary"}}}, "DetectionObject": {"title": "DetectionObject", "required": ["name", "confidence"], "type": "object", "properties": {"name": {"title": "Name", "type": "string", "description": "Nome da classe do objeto detectado", "example": "person"}, "confidence": {"title": "Confidence", "maximum": 1.0, "minimum": 0.0, "type": "number", "description": "Confian\u00e7a da detec\u00e7\u00e3o (0.0 a 1.0)", "example": 0.95}}, "description": "Objeto detectado na imagem"}, "DetectionResponse": {"title": "DetectionResponse", "required": ["detect_objects", "detect_objects_names"], "type": "object", "properties": {"detect_objects": {"title": "Detect Objects", "type": "array", "items": {"$ref": "#/components/schemas/DetectionObject"}, "description": "Lista de objetos detectados"}, "detect_objects_names": {"title": "Detect Objects Names", "type": "string", "description": "Nomes dos objetos detectados separados por v\u00edrgula", "example": "person, car, dog"}}, "description": "Resposta da detec\u00e7\u00e3o de objetos em formato JSON"}, "HealthCheckResponse": {"title": "HealthCheckResponse", "required": ["healthcheck"], "type": "object", "properties": {"healthcheck": {"title": "Healthcheck", "type": "string", "description": "Status do servi\u00e7o", "example": "Everything OK!"}}, "description": "Resposta do healthcheck"}}}}